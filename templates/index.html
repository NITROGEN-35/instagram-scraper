<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>InstaReel Analytics Pro</title>
    <link rel="stylesheet" href="/static/style.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <div class="logo">
          <svg
            width="32"
            height="32"
            viewBox="0 0 24 24"
            fill="none"
            stroke="url(#grad)"
            stroke-width="2"
          >
            <defs>
              <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color: #f09433" />
                <stop offset="50%" style="stop-color: #e6683c" />
                <stop offset="100%" style="stop-color: #bc1888" />
              </linearGradient>
            </defs>
            <rect x="2" y="2" width="20" height="20" rx="5" ry="5" />
            <circle cx="12" cy="12" r="4" />
            <circle
              cx="17.5"
              cy="6.5"
              r="1.5"
              fill="url(#grad)"
              stroke="none"
            />
          </svg>
          <span>InstaReel <strong>Scraper</strong></span>
        </div>
        <div class="badge">Pro</div>
      </header>

      <div class="hero">
        <h1>Reel Data <span class="gradient-text">Extractor</span></h1>
        <p class="subtitle">
          Paste any public Instagram Reel URL to extract caption, views, likes &
          comments instantly.
        </p>
      </div>

      <div class="input-card">
        <div class="input-row">
          <div class="input-wrapper">
            <svg
              class="input-icon"
              width="18"
              height="18"
              viewBox="0 0 24 24"
              fill="none"
              stroke="#888"
              stroke-width="2"
            >
              <path
                d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"
              />
              <path
                d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"
              />
            </svg>
            <input
              type="text"
              id="reelUrl"
              placeholder="https://www.instagram.com/reel/..."
              autocomplete="off"
              spellcheck="false"
            />
          </div>
          <button id="scrapeBtn" onclick="scrapeReel()">
            <span id="btnText">Scrape Reel</span>
            <span id="btnSpinner" class="spinner hidden"></span>
          </button>
        </div>

        <div id="statusBar" class="status-bar hidden">
          <div class="status-dot"></div>
          <span id="statusMsg">Launching Chrome...</span>
        </div>
      </div>

      <!-- Result card (shown after successful scrape) -->
      <div id="resultCard" class="result-card hidden">
        <div class="result-header">
          <svg
            width="18"
            height="18"
            viewBox="0 0 24 24"
            fill="none"
            stroke="#22c55e"
            stroke-width="2"
          >
            <polyline points="20 6 9 17 4 12" />
          </svg>
          Latest Result
        </div>
        <div class="metrics-grid">
          <div class="metric">
            <div class="metric-icon views">â–¶</div>
            <div class="metric-value" id="resViews">â€”</div>
            <div class="metric-label">Views</div>
          </div>
          <div class="metric">
            <div class="metric-icon likes">â™¥</div>
            <div class="metric-value" id="resLikes">â€”</div>
            <div class="metric-label">Likes</div>
          </div>
          <div class="metric">
            <div class="metric-icon comments">ðŸ’¬</div>
            <div class="metric-value" id="resComments">â€”</div>
            <div class="metric-label">Comments</div>
          </div>
        </div>
        <div class="caption-box">
          <div class="caption-label">Caption</div>
          <div class="caption-text" id="resCaption">â€”</div>
        </div>
      </div>

      <!-- Error card -->
      <div id="errorCard" class="error-card hidden">
        <svg
          width="18"
          height="18"
          viewBox="0 0 24 24"
          fill="none"
          stroke="#ef4444"
          stroke-width="2"
        >
          <circle cx="12" cy="12" r="10" />
          <line x1="12" y1="8" x2="12" y2="12" />
          <line x1="12" y1="16" x2="12.01" y2="16" />
        </svg>
        <span id="errorMsg">An error occurred.</span>
      </div>

      <!-- History table -->
      <div class="history-section">
        <div class="history-header">
          <h2>Scrape History</h2>
          <span id="rowCount" class="row-count">0 records</span>
        </div>
        <div class="table-wrap">
          <table id="dataTable">
            <thead>
              <tr>
                <th>#</th>
                <th>Caption</th>
                <th>Views</th>
                <th>Likes</th>
                <th>Comments</th>
                <th>URL</th>
              </tr>
            </thead>
            <tbody id="tableBody">
              <tr class="empty-row">
                <td colspan="6">No data yet â€” scrape a reel above.</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <script src="/static/script.js"></script>
  </body>
</html>
